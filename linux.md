#	鸟哥的私房菜读后感（Linux基础文件）		
[http://linux.vbird.org/linux_basic/0210filepermission.php](http://linux.vbird.org/linux_basic/0210filepermission.php "鸟哥的Linux私房菜")

##	登录与登出		
-	登录		
		
        #使用用户名和主机登录
        ssh user@host
        #使用主机登录
        ssh host
        #使用主机和端口登录
        ssh -p 2222 user@host
    
-	退出		
```
exit
```

##	bash		
-	命令格式		
```
command [-options] parameter1 parameter2...
```
-	命令说明

编号 | 说明
-----|------
0 |	一行指令中第一个输入的部分绝对是指令（command）或可执行档案（例如批次脚本script）
1 | command为指令名称，例如变换工作目录的指令为cd等等。
2 |	中括号[]并不存在与实际的指令中，而加入选项设定时，通常选项前会带“-”，有时候会使用选项的全称，则选项前带有“--”。
3 | parameter1 parameter2...为依附在选项后面的参数，或者是command的参数。
4 | 指令，选项，参数等这个统统已空格来区分，不论空几格shell都视为一格。
5 | 按下【enter】按键后，该指令会立即执行。
6 | 指令太长时，可以使用反斜线（\）来跳脱【enter】符号，使指令连续到下一行。反斜线后就立即接特殊字符，才能跳脱。		
##	语系的支援		
    #显示当先所支援的语系
    locale
    #修改语系为英文语系
    LC_ALL=en_US.usf8
    export LC_ALL=en_US.utf8

##	基础的指令操作
-	显示日期和时间的指令
-	显示日历的指令
-	计算器指令
			
		#显示当前系统时间
		date
		#格式化输出
		date +%Y/%m/%d_%H:%M
		#显示日历指令
		cal
		#指令语法
		cal [month] [year]
		#计算器指令
		bc
		#预设只输出整数，如果要输出小数点下位数，那么久必须执行scale=number,number为小数点位数
		scale=3
		#退出计算器
		quit		

##	重要的热键
-	【tab】按键				
	具有命令补全和档案补齐的功能，特殊指令下会变为参数或选项补齐	
-	【Ctrl】-c按键		
	中断正在运作中的指令
-	【Ctrl】-d按键
	键盘输入结束，也可以取代exit的输入
-	【shift】+{【pageUp】|【pageDown】}按键
	前后翻页

##	线上求助
-	--help参数
-	man command		
	进入man指令的功能后可以按下【空格键】往下翻页，按下【q】离开man环境。在第一行可以看到command(1),其中1为代号解释如下：

代号 | 解释
-----|--------
1 | 使用者在shell环境中可以操作的指令或者可执行文档	
2 | 系统核心课呼叫的函数与工具等
3 | 一些常用的函数（function）与函数库（library），大部分为C的函数库（libc）
4 | 装置档案的说明，通常在/dev下的档案
5 | 设定档或者是某些档案的格式
6 | 游戏
7 | 管理与协定等，如Linux档案系统，网路协定
8 | 系统管理员可用的管理命令
9 | 跟kernel有关的文件		
>  man command的内容部分
>			
代号 | 内容说明
-----|---------
NAME | 简短的指令、资料名称说明
SYNOPSIS | 简短的指令下达语法简介
DESCRIPTION | 较为完整的说明
OPTIONS | 正对SYNOPSIS部分汇总，有例句的所有可用的选项说明
COMMANDS | 当这个程式（软体）在执行的时候，可以在此程式（软体）中下达的命令
FILES | 这个程式或资料所使用或参考或连接到的某些档案
SEE ALSO | 可以参考的，跟这个指令或资料有关的其他说明
EXAMPLE | 可以参考的范例		
>  man page常用按键解释
>  
按键 | 工作
-----|-------
空格键 | 向下翻页
page Down | 向下翻页
page Up | 向上翻页
home	| 到第一页
end		| 到最后一页
/string | 向下查找
?string | 向上查找
n,N		| 正向或反向重复查
q		| 结束退出		

-	搜寻特定指令|档案的man page说明文件
> man -f command
>-f选项表示可以获取更多与comman有关的资料
>    
> man 1 man 
> 展示man(1)的文件资料

##	使用者与群组

-	档案拥有者 User
> 相当健全与好用的安全防护，用户生成文档后放到自己的家目录，设置权限后其他人自然就无法知道该档案的内容。

-	群组 Group
> 用于团队开发资源的时候，同一个群组可设置档案权限共享档案。

-	其他人概念 Others
>   除了群组内部以及档案拥有者和系统管理员的其他用户  

** 在Linux系统的预设中，所有系统上的账号与一般身份使用者，还有那个root的相关资讯，都是记录在/etc/passwd这个档案内的。至于个人的密码则是记录在/etc/shadow这个档案下。所有群组名称记录在/etc/group内 **

##	权限概念
###	档案属性
> root用户使用ls -al指令
> 
    ls -al
    -rw-r--r--. 1 root root 1864 May 4 18:01 initial-setup-ks.cfg
    #解释
	#-rw-r-r--档案类型权限如果后跟“.”则表示为隐藏档  1连接数 root档案拥有者 root档案所属群组 1864档案容量预设单位为bytes May 4 18:01 最后修改时间 initial-setup-ks.cfg 档案名称			

####	档案的类型与权限
这一栏总共有十个字元。第一个字元diamante这个档案是目录、档案、或连结档等等。	  
	
-	当为【d】则是目录
-	当为【-】则是档案
-	当是【l】则表示为连结档（link file）
-	当是【b】则表示为装置档里面的可供存储的周边设备（可随机存储装置）
-	当是【c】则表示为装置档李曼的序列设备，例如键盘、滑鼠（一次性读取装置）
-	当是【p】则表示为命名管道文件FIFO
-	当是【s】则是套接字文件

接下来的字元中以三个为一组，且均为【rwx】的三个参数的组合。其中【r】表示可读、【w】表示可写(编辑、新增、修改)、【x】表示可执行，这三个权限的位置不会改变，如果没有权限就会出现【-】。三组分别代表档案所有者权限、档案所属群组权限、其他人权限。

####	连接数（连接点）
每个档案都会将他的权限与属性记录到档案系统的i-node中。不过我们使用的目录树却是使用文档名来记录，因此每个文档名都会连接到一个i-node。这个属性记录的就是有多少不同的文档名连接到相同的一个i-node号码去就是了。

###	改变档案的属性与权限
-	chgrp:改变档案所属群组
-	chown:改变档案拥有者
-	chmod:改变档案的权限，SUID,SGID,SBIT等等的特性		

####	改变所属群组	chgrp		
	chgrp [-R] groupName dirname/filename
	选项与参数：
	-R：进行递归的秩序变更。

####	改变档案拥有者 chown		
	chown[-R] 账号名称 档案或目录名称
	chown[-R] 账号名称:群组名称 档案或目录名称
	chown[-R] 账号名称.群组名称 档案或目录名称

####	改变档案权限 chmod
权限设定的方案有两种，分别是使用数字或者是符号来进行权限的变更。
#####	数字修改权限
各权限与数字对照表：
		
符号 | 数字
-----|-----
r | 4
w | 2
x | 1

语法：`chmod [-R] 777 档案或目录名称`

#####	符号类型修改档案权限
身份对照表：	

符号 | 说明
-----|------
u | user
g | group
o | other
a | all		

设定对照表：		

符号 | 说明
-----|-----
+ | 加入 
- | 除去
= | 设定
语法：`chmod u=rwx,go-x 档案或目录名称`

###	目录与档案的权限意义
####	权限对档案的重要性
档案是实际含有资料的地方，包含一般文字档、资料库内容档、二进位可执行档（binary program）等等。权限对于档案的意义：	

-	r(read)：可读取此档案的实际内容。
-	w(write)：可编辑、新增、或者是修改该档案的内容（不包含删除）。
-	x(eXecute)：该档案具有可以被系统执行的权限。			

####	权限对目录的重要性
目录主要内容在记录档案名清单，文档名称与目录有强烈关联。

-	r(read contents in directory)：具有读取目录结构清单，表示可以查询该目录下的档名资料。
-	w(modify contents of directory)：具有写入的权限，表示可以建立新的档案与目录、删除已存在的档案与目录（不论该档案的权限为何）、将已存在的档案或目录更名、搬移该目录内的档案、目录位置。
-	x(access directory)：代表使用者是否进入该目录称为工作目录。

###	档案种类

-	正规档案(regular file)：纯文字档(ASCII)、二进位档(binary)、资料格式档(data)
-	目录(director)
-	连接档(link)：类似window系统下的快捷键
-	设备与装置档(device)：与系统周边及存储等相关的一些档案，通常在/dev这个目录下。分为
	-	区块(block)设备档：一些存储资料，以提供系统随机存取的周边设备。如硬碟、软碟等
	-	字元(character)设备档：一些序列档的周边设备。如键盘、滑鼠等
-	资料接口档(sockets)：通常被用来在网路上的资料承接。我们可以启动一个程式来监听用户端的要求，而用户端就可以通过这个socket来进行资料的沟通。第一个属性为[s]，通常在/run或/tmp目录下可以看到。
-	资料输送档(FIFO,pipe)：一种特殊的档案，她主要的目的是解决多个程序同时读取一个档案所造成的问题。第一个属性为[p]。
###	档案的副档名

-	*.sh：脚本或批次档。
-	*.Z,*.tar,*.tar.gz,*.zip,*.tgz：经过打包的压缩档。
-	*.html,*.php：网页相关的档案

##	Linux目录配置
###	Linux目录配置的依据--FHS
Filesystem Hierarchy Standard(FHS)主要目的是希望让使用者可以了解到已安装软体通常放置在哪个目录下。

表格 | 可分享的(shareable) | 不可分享的(unshareable)
-----|--------------------|-----------------------
不可变的(static) | /usr(软体放置处) | /etc(设定档)
不可变的(static) | /opt(第三方协力软体) | /boot(开机与核心档)
可变动的(variable) | /var/mail(使用者邮件信箱) | /var/run(程序相关)
可变动的(variable) | /var/spool/news(新闻群组) | /var/lock(程序相关)

-	可分享的：可以分享给其他系统挂载使用的目录，包含执行档与使用者的邮件等资料，是能够分享给网路上其他主机挂载使用的目录。
-	不变的：不会经常变动的，例如：函数库、文件说明档、系统管理员所管理的主机服务设定档等等。

###	根目录(/)的意义与内容
根目录是整个系统最重要的一个目录，因为不但所有的目录都是由根目录衍生出来的，同时根目录也与开机、还原、系统修复等动作有关。因此FHS要求更目录不要放在非常大的分隔槽内，因为越大的分隔槽就会放入越多的资料。		

FHS定义出根目录地下应该要有的目录。

目录 | 应放置档案内容
-----|-------------
FHS要求必须存在的目录 |
/bin | 系统有很多放置执行档的目录,但/bin比较特殊。因为/bin放置的是单人维护模式下还能被操作的命令。主要有：cat,chmoe,chown,date,mv等常用命令。
/boot | 放置开机会使用到的档案，包括Linux核心档案以及开机选单与开机所需设定档等等
/dev | 任何装置与周边设备都是以档案的形态存在于这个目录当中。
/etc | 系统主要的设定档几乎都放置在这个目录内，例如人员的账号密码、各种服务的启动档等等。
/lib | 开机时会用到的系统函数库，以及在/bin或/sbin地下的指令会呼叫的函数库。
/media | 放置可移除的装置包括软碟、光碟等
/mnt | 暂时挂在某些额外的装置。用途与/media相同
/opt | 第三方协力软体放置的目录
/run | 系统开机后所产生的各项资讯，可以使用记忆体来模拟。
/sbin | 开机过程中所需要的，里面包括开机、修复、还原系统所需要的指令。
/srv | 可以视为“service”的缩写，是一些网路服务启动之后，这些服务所需要取用的资料目录。
/tmp | 暂时放置档案的地方。
/usr | 第二层FHS设定
/var | 第二层FHS设定
FHS建议可以存在的目录 | 
/home | 系统预设的使用者家目录。有两者代号：~：表示这个使用者的家目录、~dmt：表示dmt的家目录
/lib<qual> | 存放于lib不同格式的二进位函数库。
/root | 系统管理员的家目录。








​	

